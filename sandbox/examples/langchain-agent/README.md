# LangChain Agent with agent-sandbox

æœ¬é¡¹ç›®å±•ç¤ºå¦‚ä½•ä½¿ç”¨ LangChain åˆ›å»ºä¸€ä¸ª ReAct Agentï¼Œé›†æˆ agent-sandbox è¿›è¡Œä»£ç æ‰§è¡Œå’Œæ–‡ä»¶æ“ä½œã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ¤– **ReAct Agent**: ä½¿ç”¨ LangChain çš„ ReAct æ¨¡å¼å®ç°æ™ºèƒ½ä»£ç†
- ğŸ **Python ä»£ç æ‰§è¡Œ**: åœ¨æ²™ç®±ä¸­å®‰å…¨æ‰§è¡Œ Python ä»£ç 
- ğŸ“¦ **JavaScript ä»£ç æ‰§è¡Œ**: åœ¨æ²™ç®±ä¸­å®‰å…¨æ‰§è¡Œ Node.js ä»£ç 
- ğŸ“ **æ–‡ä»¶æ“ä½œ**: æ”¯æŒè¯»å–ã€å†™å…¥å’Œåˆ—å‡ºæ–‡ä»¶
- ğŸ”¥ **ç«å±±äº‘é›†æˆ**: ä½¿ç”¨ Volcengine API æä¾›çš„ DeepSeek æ¨¡å‹

## å‰ç½®æ¡ä»¶

- Python 3.12+
- uv åŒ…ç®¡ç†å™¨
- è¿è¡Œä¸­çš„ agent-sandbox å®ä¾‹ (é»˜è®¤: http://localhost:8080)
- ç«å±±äº‘ API è®¿é—®å‡­è¯

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd langchain-agent
uv venv
uv pip install -e .
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„é…ç½®ï¼š

```env
# Volcengine API Configuration
COZE_WORKLOAD_IDENTITY_API_KEY=your_api_key_here
COZE_INTEGRATION_MODEL_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
CODE_LLM_MODEL=deepseek-v3-2-251201

# Sandbox URL (default: http://localhost:8080)
SANDBOX_BASE_URL=http://localhost:8080
```

### 3. è¿è¡Œ Agent

```bash
uv run main.py
```

## ä½¿ç”¨ç¤ºä¾‹

```
ğŸš€ å¯åŠ¨ LangChain Agent...
==================================================

ğŸ’¬ Agent å·²å°±ç»ªï¼Œè¯·è¾“å…¥æ‚¨çš„é—®é¢˜:
   (ç¤ºä¾‹: è®¡ç®— 1+1, åˆ—å‡º /tmp ç›®å½•çš„æ–‡ä»¶, ç­‰)
   è¾“å…¥ 'quit' æˆ– 'exit' é€€å‡º
--------------------------------------------------

ğŸ‘¤ æ‚¨: è®¡ç®— 1+1

ğŸ¤– æ€è€ƒä¸­...
âœ… ç»“æœ:
--------------------------------------------------
2
--------------------------------------------------
```

## å¯ç”¨å·¥å…·

1. **execute_python_code**: æ‰§è¡Œ Python ä»£ç 
2. **execute_javascript_code**: æ‰§è¡Œ JavaScript/Node.js ä»£ç 
3. **read_file**: è¯»å–æ–‡ä»¶å†…å®¹
4. **write_file**: å†™å…¥æ–‡ä»¶
5. **list_files**: åˆ—å‡ºç›®å½•ä¸­çš„æ–‡ä»¶

## ç¨‹åºåŒ–ä½¿ç”¨

```python
import asyncio
from main import run_agent_query

async def main():
    result = await run_agent_query("è¯·è®¡ç®— 1+1")
    print(result)

if __name__ == "__main__":
    asyncio.run(main())
```

## æ¶æ„è¯´æ˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   LangChain Agent                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ ReAct Agent (create_react_agent)                 â”‚
â”‚  â€¢ Tools: [Python, JS, File I/O]                    â”‚
â”‚  â€¢ LLM: DeepSeek-V3 (Volcengine)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              agent-sandbox SDK                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Code Execution (Jupyter/Node.js)                 â”‚
â”‚  â€¢ File Operations                                  â”‚
â”‚  â€¢ MCP Protocol Support                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Docker Sandbox (æœ¬åœ°)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•è¿æ¥åˆ°è¿œç¨‹æ²™ç®±ï¼Ÿ
A: ä¿®æ”¹ `SANDBOX_BASE_URL` ç¯å¢ƒå˜é‡æŒ‡å‘è¿œç¨‹æ²™ç®±åœ°å€ã€‚

### Q: æ”¯æŒå…¶ä»–æ¨¡å‹å—ï¼Ÿ
A: æ˜¯çš„ï¼Œä¿®æ”¹ `CODE_LLM_MODEL` ç¯å¢ƒå˜é‡å³å¯ä½¿ç”¨å…¶ä»–æ¨¡å‹ã€‚

### Q: å¦‚ä½•è°ƒè¯•ï¼Ÿ
A: è®¾ç½® `VERBOSE=true` æˆ–ä½¿ç”¨ `verbose=True` å‚æ•°è¿è¡Œ Agentã€‚

## è®¸å¯è¯

MIT License
